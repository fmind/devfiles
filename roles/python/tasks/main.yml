---

- name: language
  package: name='python3-dev'
  become: true
  tags: admin

- name: manager
  package: name='python3-pip'
  become: true
  tags: admin

- name: sandbox
  package: name='python3-venv'
  become: true
  tags: admin

- name: maker
  pip: name='invoke' executable='pip3' extra_args='--user'
  tags: user

- name: typer
  pip: name='mypy' executable='pip3' extra_args='--user'
  tags: user

- name: linter
  pip: name='pylint' executable='pip3' extra_args='--user'
  tags: user

- name: sorter
  pip: name='isort' executable='pip3' extra_args='--user'
  tags: user

- name: tester
  pip: name='pytest' executable='pip3' extra_args='--user'
  tags: user

- name: coverer
  pip: name='coverage' executable='pip3' extra_args='--user'
  tags: user

- name: debugger
  pip: name='ipdb' executable='pip3' extra_args='--user'
  tags: user

- name: packager
  pip: name='wheel' executable='pip3' extra_args='--user'
  tags: user

- name: uploader
  pip: name='twine' executable='pip3' extra_args='--user'
  tags: user

- name: formatter
  pip: name='black' executable='pip3' extra_args='--user'
  tags: user

- name: profiller
  pip: name='profiling' executable='pip3' extra_args='--user'
  tags: user

- name: installer
  pip: name='pyinstaller' executable='pip3' extra_args='--user'
  tags: user

- name: input
  pip: name='ipython' executable='pip3' extra_args='--user'
  tags: user

- name: directories
  file: path='{{item}}' state='directory'
  with_items:
    - '~/.config/mypy/'
    - '~/.ipython/profile_default/'
  tags: user

- name: hosting
  file: src='{{role_path}}/files/pypirc' dest='~/.pypirc' state=link force=yes
  tags: user

- name: typing
  file: src='{{role_path}}/files/mypy.cfg' dest='~/.config/mypy/config' state=link force=yes
  tags: user

- name: config
  file: src='{{role_path}}/files/ipython.py' dest='~/.ipython/profile_default/ipython_config.py' state=link force=yes
  tags: user
