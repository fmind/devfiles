---

- name: language
  package: name='python3'
  become: true
  tags: admin

- name: manager
  package: name='python3-pip'
  become: true
  tags: admin

- name: sandbox
  package: name='python3-venv'
  become: true
  tags: admin

- name: tools
  pip: name='{{item}}' executable='pip3' extra_args='--user'
  with_items:
    - ptpython
    - jupyterlab
  tags: user

- name: hosting
  file: src='{{role_path}}/files/pypirc' dest='~/.pypirc' state=link force=yes
  tags: user

- name: directory
  file: path='~/.ptpython/' state='directory'
  tags: user

- name: config
  file: src='{{role_path}}/files/ptpython.py' dest='~/.ptpython/config.py' state=link force=yes
  tags: user
